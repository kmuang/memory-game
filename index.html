<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Memory Game</title> 
  <link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .card { perspective: 1000px; cursor: pointer; }
    .card-inner { transition: transform 0.6s; transform-style: preserve-3d; position: relative; }
    .card.flipped .card-inner { transform: rotateY(180deg); }
    .card-front, .card-back {
      position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
      border-radius: 0.5rem;
    }
    .card-front { background: #1e293b; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; }
    .card-back { transform: rotateY(180deg); }
  </style>
</head>
<body class="bg-slate-100 min-h-screen flex flex-col items-center justify-center p-4">

  <h1 class="text-3xl font-bold mb-6 text-slate-800">üåç Flag Memory Game</h1>
  <div id="gameBoard" class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-4 w-full max-w-4xl"></div>
  <p id="message" class="mt-6 text-slate-700 text-lg"></p>
  <button id="restartBtn" class="mt-4 px-4 py-2 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 transition">Restart Game</button>

  <script>
    const countries = [
      { name: "USA", flag: "https://flagcdn.com/us.svg" },
      { name: "Canada", flag: "https://flagcdn.com/ca.svg" },
      { name: "UK", flag: "https://flagcdn.com/gb.svg" },
      { name: "France", flag: "https://flagcdn.com/fr.svg" },
      { name: "Germany", flag: "https://flagcdn.com/de.svg" },
      { name: "Italy", flag: "https://flagcdn.com/it.svg" },
      { name: "Spain", flag: "https://flagcdn.com/es.svg" },
      { name: "South Korea", flag: "https://flagcdn.com/dz.svg" },
      { name: "Japan", flag: "https://flagcdn.com/ma.svg" },
      { name: "China", flag: "https://flagcdn.com/tn.svg" },
      { name: "India", flag: "https://flagcdn.com/in.svg" },
      { name: "Indonesia", flag: "https://flagcdn.com/id.svg" },
      { name: "Philippines", flag: "https://flagcdn.com/ph.svg" },
      { name: "Malaysia", flag: "https://flagcdn.com/my.svg" },
      { name: "Singapore", flag: "https://flagcdn.com/sg.svg" },
      { name: "Thailand", flag: "https://flagcdn.com/th.svg" },
      { name: "Vietnam", flag: "https://flagcdn.com/vn.svg" },
    ];

    let cards = [];
    let firstCard = null, secondCard = null;
    let lockBoard = false;
    let matchedPairs = 0;

    const gameBoard = document.getElementById('gameBoard');
    const message = document.getElementById('message');
    const restartBtn = document.getElementById('restartBtn');

    function initGame() {
      matchedPairs = 0;
      firstCard = null;
      secondCard = null;
      lockBoard = false;
      message.textContent = '';

      // Duplicate and shuffle
      cards = [...countries, ...countries];
      cards.sort(() => Math.random() - 0.5);

      gameBoard.innerHTML = '';
      cards.forEach((country, idx) => {
        const cardEl = document.createElement('div');
        cardEl.className = 'card h-28 relative';
        cardEl.innerHTML = `
          <div class="card-inner w-full h-full rounded-md shadow-md">
            <div class="card-front">‚ùì</div>
            <div class="card-back bg-white flex items-center justify-center">
              <img src="${country.flag}" alt="${country.name}" class="h-full w-full object-cover rounded-md">
            </div>
          </div>
        `;
        cardEl.dataset.country = country.name;
        cardEl.addEventListener('click', flipCard);
        gameBoard.appendChild(cardEl);
      });
    }

    function flipCard() {
      if (lockBoard) return;
      if (this.classList.contains('flipped')) return;

      this.classList.add('flipped');

      if (!firstCard) {
        firstCard = this;
        return;
      }

      secondCard = this;
      lockBoard = true;

      checkMatch();
    }

    function checkMatch() {
      const isMatch = firstCard.dataset.country === secondCard.dataset.country;

      if (isMatch) {
        matchedPairs++;
        resetTurn();
        if (matchedPairs === countries.length) {
          message.textContent = 'üéâ You matched all flags!';
        }
      } else {
        setTimeout(() => {
          firstCard.classList.remove('flipped');
          secondCard.classList.remove('flipped');
          resetTurn();
        }, 1000);
      }
    }

    function resetTurn() {
      [firstCard, secondCard] = [null, null];
      lockBoard = false;
    }

    restartBtn.addEventListener('click', initGame);

    initGame();
  </script>
</body>
</html>
